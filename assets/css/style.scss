$color__background-body: #FFF5E9;
$color__navigation_bg: #FFD5A2;

$breakpoint__laptop: 1192px;
$breakpoint__tablet: 1040px;
$breakpoint__small_tablet: 920px;
$breakpoint__large_phone: 700px;
$breakpoint__small_phone: 550px;

//animations*****************************************************************************

@keyframes move-up {
  0% {
    transform: translateY(40px); 
  }
  100% {
    transform: translateY(0); 
  }
}

@keyframes move-up-site-title {
  0% {
    transform: translateY(100px); 
  }
  100% {
    transform: translateY(0); 
  }
}

@keyframes move-down {
  0% {
    opacity: 0;
    transform: translateY(-50px); 
  }
  100% {
    opacity: 1;
    transform: translateY(0); 
  }
}

@keyframes oscillation {
  0% {
    transform: translateX(-10px) translateY(0px);
  }
  25% {
    transform: translateX(10px) translateY(-10px);
  }
  50% {
    transform: translateX(-10px) translateY(0px);
  }
  75% {
    transform: translateX(10px) translateY(10px);
  }
  100% {
    transform: translateX(-10px) translateY(0px);
  }
}

@keyframes rotate {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}
@keyframes fade-in {
  from{
    opacity:0;
  }
  to {
    opacity:1;
  }
}
// animations js***************************************************************************************

.toAnim {
  opacity: 0;
  transition: 2s ease-in-out;
}
.toAnim.anim {
  opacity: 1;
}
.toAnimUp {
  transition: 1s ease-in-out;
}
.toAnimUp.animUp {
  animation: move-up 3s ease-in-out;
}


//header*****************************************************************************************

.site-header {
  height: 80px;
  .main-navigation {
    .site-title {
      display:flex ;
      height: 80px;
      justify-content: space-between;
      .title {
        flex: 1;
        text-align: right;
        max-width: 62%;
        padding-top: 20px;
      }
      .menu {
        flex: 1;
        text-align: right;
        max-width: 38%;
        padding-top: 20px;
        .menu-toggle {
          display: flex;
          flex-direction: column;
          cursor: pointer;
          padding-left: 60%;
          .line {
            width: 30px;
            margin-block: 3px;
            height: 1px;
          }
        }
      }
    }
    .img-header {
      display:none;
      position:relative;
      animation: fade-in 1s ease-in-out;
      .logo-header {
        position: absolute;
        width:200px;
        left: calc(50% - 100px);
        top: calc(10% - 51px);
        z-index: 5;
        filter:drop-shadow(0 0 10px rgba(235, 89, 53, 1))
      }
      .flower-header {
        position: absolute;
        left: calc(20% - 74px);
        bottom: calc(40% - 11px);
        max-width: 75px;
        animation: rotate 14s linear infinite;
      }
      .random-flower-header {
        position: absolute;
        right: calc(1% - 60px);
        top: calc(50% - 17px);
        width: 100px;
        animation: rotate 13s linear infinite;
      }
      .sunflower-header {
        position: absolute;
        right: calc(15% - 40px);
        top: calc(20% - 90px);
        width: 200px;
        animation: rotate 16s linear infinite;
      }
      .orchid-header {
        position: absolute;
        left: calc(1% - 77px);
        top: calc(10% - -50px);
        animation: rotate 10s linear infinite;
      }
      .hibiscus-footer-header {
        position: absolute;
        right: calc(-16% - 103px);
        bottom: calc(-16% - 103px);
        animation: rotate 15s linear infinite;
      }
      
      .jaakuna-header {
        position: absolute;
        right: calc(10% - -50px);
        bottom: calc(25% - -50px);
        width: 200px;
        animation: oscillation 8s ease-in-out infinite;
      }
      .orenjiiro-header {
        position: absolute;
        left: calc(5% - 26px);
        bottom: calc(5% - -21px);
        width: 200px;
        animation: oscillation 3s ease-in-out infinite;
      }
      .Kawaneko-header {
        position: absolute;
        left: calc(20% - 43px);
        top: calc(20% - -71px);
        width: 200px;
        animation: oscillation 6s ease-in-out infinite;
      }
      ul {
        padding: 0;
        font-size: 64px;
        display: none;
        overflow: hidden;
          li {
            position: relative;
            font-size: 64px;
            background-color: transparent;
            overflow: hidden;
            a {
              display:flex;
              flex-direction: column;
              border: none;
              animation: move-up-site-title 2s ease-in-out;
            }
          }
      }
      p {
          position: absolute;
          left: calc(50% - 50px);
          bottom: 10vh;
      }
    }
    &.toggled .img-header {
        display: flex;
        overflow: hidden;
        flex-direction: column;
    }
    &.toggled span:nth-child(1) {
        transform: translateY(7px) rotate(45deg);
    }
    &.toggled span:nth-child(2) {
        opacity: 0;
    }   
    &.toggled span:nth-child(3) {
        transform: translateY(-7px) rotate(-45deg);
    }
    &.toggled ul {
        display: flex;
        flex-direction: column;
        height: 100vh;
        width: 100%;
        background-color: #FFF5E9;
        padding-top: 160px;
        padding-bottom: 240px;
    }
    &.toggled li:hover {
        text-shadow: 0 0 15px rgba(235, 89, 53, 1);
    }
  }
}

//body du site***************************************************************************
.site-main {
  //video et nom du site
  .banner{
    animation: move-down 3s ease-in-out;
    background-size:cover;

    img {
      animation: move-up-site-title 3s ease-in-out;
      z-index: 2;
      position:sticky;
      top:30px;
    }
    .header-video {
      position: absolute;
      z-index: 1; 
      object-fit: cover;
    }
  }
  //main du site
  .story {
    //l'histoire
    .story-h2-div {
      background-image: url("../images/purple_title_bg.png");
      background-size: contain;
      padding: 1em 2em;
      margin: 0;
      background-position: center;
      h2{
        z-index: 2;
        background-image: none;
        background-color: transparent;
        &::before {
          content:none;
        }
        &::after {
          content:none;
        }
      }
    }
    .storyH2Before {
      position: absolute;
      left: 2em;
      top: 8em;
      z-index: -1;
    }
    .storyH2After {
      position: absolute;
      left: 5em;
      top: 27em;
      z-index: 3;
      animation: rotate 10s linear infinite;
    }
    &__article {
      &::before {
        content:none;
      }
      p {
        z-index: 4;
      }
      &::after {
        content:none;
      }
    }
    .storyArticleBefore{
      position: absolute;
      right: 9em;
      top: 9em;
      z-index: 2;
    }
    .storyArticleAfter {
      position: absolute;
      right: 8.5em;
      top: 2em;
      z-index: 3;
      animation: rotate 10s linear infinite;
    }
    //personnages
    #characters {
      flex-direction: column;
      margin: 0;
      padding: 30px 0;
      .characters-h3-div {
        background-image: url("../images/orange_characters_bg.png");
        background-size: contain;
        background-repeat: no-repeat;
        padding: 1em 2em;
        margin: 0;
        background-position: left;
        h3 {
          background-image: none;         
          text-align: left;
        }
      }
      div {
        flex: none;
      }
      .swiper {
        width: auto;
        .swiper-wrapper {
          padding-left: 5%;
            .swiper-slide {
              width: auto;
            }
        }
      }        
    }   
    //le lieu
    #place {
      background-image: url("../images/Studio_Koukaki-image_place.png");
      position: relative;
      z-index: -1;
      .cloud1 {
        content: url('../images/big_cloud.png');
        position: absolute;
        left: 32em;
        top: 5em;
        z-index: 1;
        filter: blur(20px);
        opacity: 0.8;
      }
      .cloud2 {
        content: url('../images/little_cloud.png');
        position: absolute;
        left: 20em;
        top: 17em;
        z-index: 1;
        filter: blur(10px);
        opacity: 0.8;
      }
      .place-h3-div {
        background-image: url("../images/orange_place_bg.png");
        background-size: contain;
        background-repeat: no-repeat;
        padding: 1em 2em;
        margin: 0;
        background-position: center;
        overflow: hidden;
        h3 {          
          z-index: 2;
          background-image: none;
          margin-bottom: 0;
        }
      }
      > div {        
        p {
          padding-top: 20px;
        }
      }
    }
  }
  //le studio
  #studio {
    overflow: hidden;
    animation: none;
    background-image: none;
    .studio-h2-div {
      background-image: url("../images/purple_studio_bg.png");
      background-repeat: no-repeat;
      background-position: center;
      background-size: contain;
      padding: 1em 2em;
      margin: 0;
      justify-content: center;
      width: 100%;
      h2 {
        background-image: none;
        background-color: transparent;
        justify-content: center;
        &::before {
          content:none;
        }
        &::after {
          content:none;
        }
      }
    }
    .studioBefore {
      position: absolute;
      left: -5em;
      top: 0;
      animation: rotate 10s linear infinite;
      z-index: 2;
    }
    .studioAfter {
      position: absolute;
      right: 5em;
      top: 6em;
      animation: rotate 10s linear infinite;
      z-index: 2;
    }
    .studioDivBefore {
      position: absolute;
      left: calc(50% - 17.225px);
      top: 50%;
      animation: oscillation 8s ease-in-out infinite;
      z-index: 4;
    }   
    > div {
      &::before {
        content: none;       
      }
      p{
      z-index: 3;
      }
    }
  }
}

//footer*****************************************************************************************

.site-footer {
  display: flex;
  flex-direction: column ;
  padding-top: 10em;
  //template pour les oscars
  .oscar {
    position: relative;
    display: flex;
    flex-direction: row;
    justify-content: center;
    padding-bottom: 20%;
    h3 {
      text-shadow: 0 0 70px rgba(255, 98, 9);
      filter:drop-shadow(0 0 30px rgba(255, 89, 9)) drop-shadow(0 0 30px rgba(255, 89, 9)) drop-shadow(0 0 30px rgba(255, 89, 9));
      color: $color__background-body;
      font-size: 3rem;
      text-align: left;
    }
    img {
      max-width: 20%;
      object-fit: contain;
      margin-bottom: 4%;
    }
  }
  &::before {
    display:none;
  }
  &::after {
    display:none;
  }
  .footerBefore {
    position: absolute;
    left: 4em;
    top: 7em;
    animation: rotate 10s linear infinite;
  }
  .footerAfter {
    position: absolute;
    right: -4em;
    bottom: 30em;
    animation: rotate 10s linear infinite;
  }
  ul{
    &::after {
      display:none
    }  
  } 
  .footerUlAfter {
    position: absolute;
    left: calc(50% - 323px);
    bottom: -28.5em;
    z-index: -1;
    animation: rotate 10s linear infinite;
  }
}

//media queries******************************************************************************************

@media screen and (min-width: #{$breakpoint__large_phone}) {
	.menu-toggle {
		display: none;
	}
	.main-navigation {
		height: 80px;
		ul {
			display: flex;
			margin: 0;
			padding-left: 0;
			.site-title {
				display: block;
			}
		}
	} 
}
@media all and (max-width: #{$breakpoint__laptop}) {
  .story {
    .storyH2Before {
      display:none;
    }
    .storyH2After {
      width: 10%;
    }
    .storyArticleBefore{
      display:none;
    }
    .storyArticleAfter {
      width: 10%;
    }
  }
  .site-footer {
    .oscar {
      flex-direction: column;
      img {
        max-width: 60%;
      }
    }
    .footerBefore {
      display: none;
    }
  }
}
@media all and (max-width: #{$breakpoint__small_tablet}) {
  .story {
    .storyH2After {
      display:none;
    }
    #place {
      .cloud1 {
        width: 25%;
      }
      .cloud2 {
        width: 20%;
      }
    }
  }
  #studio {
    .studioDivBefore {
      display:none;
    }
    .studioBefore {
      width: 5%;
    }
    .studioAfter {
      width: 5%;
    }
  }
  .site-footer {
    .footerAfter {
      width: 15%;
    }
    .footerUlAfter {
      display:none;      
    }
  }
}
@media all and (max-width: #{$breakpoint__small_phone}) {
  h3 ,h2{
    font-size: 2em;
  }
  .main-navigation {
    .site-title {
      font-size: 1.3em;
    }
		ul {
			li {
        a{
        font-size: 32px;
        }
      }
		}
	} 
  .site-main {
    .story {
      .storyArticleAfter {
        display:none;
      }
      #characters {
        .characters-h3-div {
          background-position: center;
          h3 {
            margin: 0% 25%;
            font-size: 2em;
          }
        }
      }
    }
    #studio {
      .studioBefore {
        display:none;
      }
      .studioAfter {
        display:none;
      }
    }
  }
  .site-footer {
    .oscar {
      h3{
        font-size: 2em;
      }
    }
    .footerAfter {
      width: 15%;
    }
    .footerUlAfter {
      display:none;      
    }
  }
}
